{
    "sourceFile": "src/components/Navvar.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1763049760110,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1763049760110,
            "name": "Commit-0",
            "content": "import React, { useEffect, useRef, useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { Menu, X } from \"lucide-react\";\nfunction Navbar() {\n  const location = useLocation();\n  const [isOpen, setIsOpen] = useState(false);\n  const menuItems = [\n    { name: \"Home\", path: \"/\" },\n    { name: \"Vehicle AMC\", path: \"/vehicle-amc\" },\n    { name: \"Mechanic\", path: \"\", comingSoon: true },\n    { name: \"Tow Truck\", path: \"\", comingSoon: true },\n    { name: \"Service Center\", path: \"\", comingSoon: true },\n    { name: \"Petrol Pump\", path: \"petrol-pump\", comingSoon: true },\n    { name: \"Vahan Shop\", path: \"\", comingSoon: true },\n  ];  \n  const handleLinkClick = () => {\n    setIsOpen(false);\n  };\n  const navItemRef = useRef(null);\n  const badgeRef = useRef(null);\n\n  useEffect(() => {\n    const handleResize = () => {\n      const element = navItemRef.current;\n      const rec = window.innerWidth - element.getBoundingClientRect().right;\n      if (rec < 250) {\n        if (badgeRef.current) {\n          badgeRef.current.style.right = \"0px\";\n        }\n      } else {\n        if (badgeRef.current) {\n          badgeRef.current.style.right = \"auto\";\n        }\n      }\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n\n  return (\n    <>\n      <nav\n        className=\"hidden md:flex items-center justify-center lg:h-12 h-14 w-full bg-[#E9F0FC]\"\n        role=\"navigation\"\n        aria-label=\"Main navigation\"\n      >\n        <ul className=\"flex container justify-center gap-15 text-[17px] text-[#000000]\">\n          {menuItems.map((item, index) => (\n            <li ref={navItemRef} key={index} className=\"relative group\">\n              {item.comingSoon && (\n                <span\n                  ref={badgeRef}\n                  className=\"absolute md:top-[25px] top-full transform bg-gradient-to-r from-[#fb0200] to-[#4184ed] text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap \"\n                >\n                  Coming Soon\n                </span>\n              )}\n              <Link\n                to={item.path}\n                aria-current={\n                  location.pathname === item.path ||\n                  (item.path === \"/vehicle-amc\" &&\n                    location.pathname === \"/vehicle-amc-filter\")\n                    ? \"page\"\n                    : undefined\n                }\n                className={`cursor-pointer transition-colors text-extrabold text-xs sm:text-sm md:text-base ${\n                  location.pathname === item.path ||\n                  (item.path === \"/vehicle-amc\" &&\n                    location.pathname === \"/vehicle-amc-filter\")\n                    ? \"text-[#266DDF] font-bold\"\n                    : \"hover:text-[#266DDF]\"\n                }`}\n              >\n                {item.name}\n              </Link>\n            </li>\n            // <li\n            //   key={index}\n            //   ref={(el) => (parentRefs.current[index] = el)}\n            //   className=\"relative group\"\n            //   onMouseEnter={() => {\n            //     const badge = badgeRefs.current[index];\n            //     if (badge) badge.style.opacity = 1;\n            //   }}\n            //   onMouseLeave={() => {\n            //     const badge = badgeRefs.current[index];\n            //     if (badge) badge.style.opacity = 0;\n            //   }}\n            // >\n            //   {item.comingSoon && (\n            //     <span\n            //       ref={(el) => (badgeRefs.current[index] = el)}\n            //       className=\"absolute bg-gradient-to-r from-[#fb0200] to-[#4184ed]\n            //      text-white text-xs px-2 py-1 rounded\n            //      transition-opacity duration-300 opacity-0 pointer-events-none\n            //      whitespace-nowrap z-50\"\n            //     >\n            //       Coming Soon\n            //     </span>\n            //   )}\n\n            //   <Link\n            //     to={item.path}\n            //     aria-current={\n            //       location.pathname === item.path ||\n            //       (item.path === \"/vehicle-amc\" &&\n            //         location.pathname === \"/vehicle-amc-filter\")\n            //         ? \"page\"\n            //         : undefined\n            //     }\n            //     className={`cursor-pointer transition-colors text-extrabold text-xs sm:text-sm md:text-base ${\n            //       location.pathname === item.path ||\n            //       (item.path === \"/vehicle-amc\" &&\n            //         location.pathname === \"/vehicle-amc-filter\")\n            //         ? \"text-[#266DDF] font-bold\"\n            //         : \"hover:text-[#266DDF]\"\n            //     }`}\n            //   >\n            //     {item.name}\n            //   </Link>\n            // </li>\n          ))}\n        </ul>\n      </nav>\n      <nav\n        id=\"mobileNav\"\n        className=\"md:hidden flex flex-col justify-center items-center w-full bg-[#E9F0FC]\"\n        role=\"navigation\"\n        aria-label=\"Mobile navigation\"\n      >\n        <header className=\"self-end\">\n          <button\n            onClick={() => setIsOpen(!isOpen)}\n            aria-label={isOpen ? \"Close menu\" : \"Open menu\"}\n            className=\"flex items-center justify-center p-4 self-start\"\n          >\n            {isOpen ? (\n              <X size={24} className=\"text-[#000000]\" />\n            ) : (\n              <Menu size={24} className=\"text-[#000000]\" />\n            )}\n          </button>\n        </header>\n        <main className=\"w-full\">\n          {isOpen && (\n            <ul className=\"flex flex-col gap-0 w-full text-[#000000] bg-white rounded-lg mt-2 shadow-lg border border-gray-200\">\n              {menuItems.map((item, index) => (\n                <li\n                  key={index}\n                  className=\"border-b border-gray-100 last:border-b-0\"\n                >\n                  <Link\n                    to={item.path}\n                    onClick={handleLinkClick}\n                    aria-current={\n                      location.pathname === item.path ||\n                      (item.path === \"/vehicle-amc\" &&\n                        location.pathname === \"/vehicle-amc-filter\")\n                        ? \"page\"\n                        : undefined\n                    }\n                    className={`block px-4 py-3 cursor-pointer transition-colors ${\n                      location.pathname === item.path ||\n                      (item.path === \"/vehicle-amc\" &&\n                        location.pathname === \"/vehicle-amc-filter\")\n                        ? \"text-[#266DDF] font-bold bg-blue-50\"\n                        : \"hover:bg-gray-100\"\n                    }`}\n                  >\n                    {item.name}\n                    {item.comingSoon && (\n                      <span\n                        className=\"text-xs text-gray-500 ml-1\"\n                        title=\"Coming Soon\"\n                      >\n                        (Coming Soon)\n                      </span>\n                    )}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          )}\n        </main>\n      </nav>\n    </>\n  );\n}\nexport default Navbar;"
        }
    ]
}